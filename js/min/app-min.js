!function($){function e(e,t){return t.count-e.count}function t(e,t){return parseInt(e.label)-parseInt(t.label)}function n(e,t){if(e&&t.query===u.val()){o.html(l.render({query:t.query,nbHits:t.nbHits.numberWithDelimiter(),processingTimeMS:t.processingTimeMS,nbHits_plural:1!=t.nbHits}));for(var n="",r=0;r<t.hits.length;++r)n+=c.render(t.hits[r]);a.html(n),n="";for(var d=null,b=null,w=null,x=0;x<h.length;++x)if(b=h[x],d=t.facets[b.name]||t.disjunctiveFacets[b.name]||null,w=t.disjunctiveFacets[b.name]?!0:!1,d)if("customerReviewCount"===b.name)n+=m.render({facet:b.name,title:b.title,max:t.facets_stats.customerReviewCount.max,current:R});else{var y=[];for(var P in d)y.push({label:P,value:P,count:d[P],refined:v.isRefined(b.name,P)});y.sort(function(e,t){if(b.topListIfRefined&&e.refined!==t.refined){if(e.refined)return-1;if(t.refined)return 1}return b.sortFunction(e,t)}),n+=g.render({facet:b.name,title:b.title,values:y.slice(0,10),has_other_values:y.length>10,other_values:y.slice(10),disjunctive:w})}p.html(n),$("#customerReviewCount-slider").slider({formater:function(e){return 0===e?"All":"> "+e}}).on("slideStop",function(e){R=e.value,i()}),$('input[type="checkbox"]').checkbox();var C=[];t.page>5&&(C.push({current:!1,number:1}),C.push({current:!1,number:"...",disabled:!0}));for(var F=t.page-5;F<t.page+5;++F)0>F||F>=t.nbPages||C.push({current:t.page==F,number:F+1});t.page+5<t.nbPages&&(C.push({current:!1,number:"...",disabled:!0}),C.push({current:!1,number:t.nbPages})),s.html(f.render({pages:C,prev_page:t.page>0?t.page:!1,next_page:t.page+1<t.nbPages?t.page+2:!1}));var I=[];for(var H in v.refinements)if(v.refinements[H]){var r=H.indexOf(":"),j={};j[H.slice(0,r)]=H.slice(r+1),I.push(j)}for(var H in v.disjunctiveRefinements)for(var _ in v.disjunctiveRefinements[H])if(v.disjunctiveRefinements[H][_]){var j={};j[H]=_,I.push(j)}location.replace("#q="+encodeURIComponent(t.query)+"&page="+t.page+"&minReviewsCount="+R+"&refinements="+encodeURIComponent(JSON.stringify(I))),window.scrollTo(0,0)}}function i(){var e={maxValuesPerFacet:50};R>0&&(e.numericFilters="customerReviewCount>="+R),v.index!=d&&(e.typoTolerance=!1),v.search(u.val(),n,e)}var r=new AlgoliaSearch("latency","6be0576ff61c053d5f9a3225e2a90f76",{dsn:!0,tld:"net"}),a=$("#hits"),s=$("#pagination"),o=$("#stats"),u=$("#q"),c=Hogan.compile($("#hit-template").text()),l=Hogan.compile($("#stats-template").text()),f=Hogan.compile($("#pagination-template").text()),p=$("#facets"),g=Hogan.compile($("#facet-template").text()),m=Hogan.compile($("#slider-template").text()),d="bestbuy",v=new AlgoliaSearchHelper(r,d,{facets:["type","shipping","customerReviewCount"],disjunctiveFacets:["category","salePrice_range","manufacturer"],hitsPerPage:10});Number.prototype.numberWithDelimiter=function(e){var t=this+"",e=e||",",n=t.split(".");return n[0]=n[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+e),n.join(".")};var h=[{name:"type",title:"Type",sortFunction:e},{name:"shipping",title:"Shipping",sortFunction:e},{name:"customerReviewCount",title:"Reviews"},{name:"category",title:"Categories",sortFunction:e,topListIfRefined:!0},{name:"salePrice_range",title:"Price",sortFunction:t},{name:"manufacturer",title:"Manufacturer",sortFunction:t,topListIfRefined:!0}],b={},R=0;if(location.hash&&0===location.hash.indexOf("#q=")){var w=location.hash.substring(3),x=w.indexOf("&page="),y=w.indexOf("&minReviewsCount="),P=w.indexOf("&refinements="),C=decodeURIComponent(w.substring(0,x)),F=parseInt(w.substring(x+6,y));R=parseInt(w.substring(y+17,P));var b=JSON.parse(decodeURIComponent(w.substring(P+13)));u.val(C);for(var I=0;I<b.length;++I)for(var H in b[I])v.toggleRefine(H,b[I][H]);v.setPage(F)}var j=u.val();u.on("keyup change",function(){u.val()!=j&&(j=u.val(),R=0,v.setPage(0),v.clearRefinements(),i())}).focus(),i(),window.showMoreLess=function(e){$(e).closest("ul").find(".show-more").toggle()},window.toggleRefine=function(e,t){v.setPage(0),v.toggleRefine(e,t)},window.gotoPage=function(e){v.gotoPage(+e-1)},window.sortBy=function(e,t){$(t).closest(".btn-group").find(".sort-by").text($(t).text()),v.index=d+e,v.setPage(0),i()}}(jQuery);