$(document).ready(function(){function e(e,t){for(var n={nbHits:a(e.nbHits),processingTimeMS:e.processingTimeMS,nbHits_plural:1!==e.nbHits},i=e.hits,o=[],s=0;s<R.length;++s){var r=R[s],c=e.getFacetByName(r.name);if(c){var u={};if(u.facet=r.name,u.title=r.title,u.type=r.type,"slider"===r.type){u.min=c.stats.min,u.max=c.stats.max;var l=t.getNumericRefinement("customerReviewCount",">=")||c.stats.min,p=t.getNumericRefinement("customerReviewCount","<=")||c.stats.max;l=Math.min(u.max,Math.max(u.min,l)),p=Math.min(u.max,Math.max(u.min,p)),u.values=[l,p]}else{var m=[];for(var d in c.data)m.push({label:d,value:d,count:c.data[d],refined:b.isRefined(r.name,d)});var f=r.sortFunction||x;r.topListIfRefined&&(f=j(f)),m.sort(f),u.values=m.slice(0,10),u.has_other_values=m.length>10,u.other_values=m.slice(10),u.disjunctive=r.disjunctive}o.push(u)}}var g=[];e.page>5&&(g.push({current:!1,number:1}),g.push({current:!1,number:"...",disabled:!0}));for(var h=e.page-5;h<e.page+5;++h)0>h||h>=e.nbPages||g.push({current:e.page===h,number:h+1});e.page+5<e.nbPages&&(g.push({current:!1,number:"...",disabled:!0}),g.push({current:!1,number:e.nbPages}));var v={pages:g,prev_page:e.page>0?e.page:!1,next_page:e.page+1<e.nbPages?e.page+2:!1};return{stats:n,hits:i,facets:o,pagination:v}}function t(e){l.html(f.render(e.stats));for(var t="",n=0;n<e.hits.length;++n)t+=d.render(e.hits[n]);0===e.hits.length&&(t='<p id="no-hits">We didn\'t find any products for your search.</p>'),u.html(t);for(var i="",a=0;a<e.facets.length;++a){var o=e.facets[a];i+=o.type&&"slider"===o.type?h.render(o):g.render(o)}p.html(i),0===e.hits.length&&p.empty(),m.html(v.render(e.pagination)),0===e.hits.length&&m.empty()}function n(){$("#customerReviewCount-slider").slider().on("slideStop",function(e){b.addNumericRefinement("customerReviewCount",">=",e.value[0]).search(),b.addNumericRefinement("customerReviewCount","<=",e.value[1]).search()}),$('input[type="checkbox"]').checkbox()}function i(e){e?($("#input-loop").addClass("glyphicon-loop"),$("#input-loop").removeClass("glyphicon-remove")):($("#input-loop").removeClass("glyphicon-loop"),$("#input-loop").addClass("glyphicon-remove"))}function a(e,t){e+="",t=t||",";var n=e.split(".");return n[0]=n[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t),n.join(".")}function o(){var e=location.hash;if(!e||0===e.length)return!0;var t=e.split("&");if(!t||0===t.length)return!0;var n=decodeURIComponent(t[0].split("=")[1]);c.val(n),b.setQuery(n);for(var i=2;i<t.length;i++){var a=t[i].split("="),o=decodeURIComponent(a[0]),s=decodeURIComponent(a[1]);b.toggleRefine(facets,s,!1)}var r=decodeURIComponent(t[1].split("=")[1])-1;b.setCurrentPage(r)}function s(e){var t="#",n=e.query;t+="q="+encodeURIComponent(n);var i=e.page+1;t+="&page="+i;for(var a in e.facetsRefinements)t+="&"+encodeURIComponent(a)+"="+encodeURIComponent(e.facetsRefinements[a]);for(var o in e.disjunctiveFacetsRefinements)for(var s in e.disjunctiveFacetsRefinements[o])t+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e.disjunctiveFacetsRefinements[o][s]);location.replace(t)}var r=algoliasearch("latency","6be0576ff61c053d5f9a3225e2a90f76",{dsn:!0,tld:"net"}),c=$("#q"),u=$("#hits"),l=$("#stats"),p=$("#facets"),m=$("#pagination"),d=Hogan.compile($("#hit-template").text()),f=Hogan.compile($("#stats-template").text()),g=Hogan.compile($("#facet-template").text()),h=Hogan.compile($("#slider-template").text()),v=Hogan.compile($("#pagination-template").text()),R=[{name:"type",title:"Type",disjunctive:!1,sortFunction:x},{name:"shipping",title:"Shipping",disjunctive:!1,sortFunction:x},{name:"customerReviewCount",title:"# Reviews",disjunctive:!0,type:"slider"},{name:"category",title:"Category",disjunctive:!0,sortFunction:x,topListIfRefined:!0},{name:"salePrice_range",title:"Price range",disjunctive:!0,sortFunction:w},{name:"manufacturer",title:"Manufacturer",disjunctive:!0,sortFunction:w,topListIfRefined:!0}],y="bestbuy",C={hitsPerPage:10,maxValuesPerFacet:30,facets:["type","shipping"],disjunctiveFacets:["customerReviewCount","category","salePrice_range","manufacturer"]},b=algoliasearchHelper(r,y,C);c.on("keyup change",function(){var e=c.val();i(!e.trim()),b.setQuery(e).search()}).focus(),b.on("change",function(e){s(b.state)}),b.on("error",function(e){console.log(e)}),b.on("result",function(i){var a=e(i,this.state);t(a),n()}),o(),b.search(),$(document).on("click",".show-more, .show-less",function(){$(this).closest("ul").find(".show-more").toggle(),$(this).closest("ul").find(".show-less").toggle()}),$(document).on("click",".toggleRefine",function(){b.toggleRefine($(this).data("facet"),$(this).data("value")).search()}),$(document).on("click",".gotoPage",function(){b.setCurrentPage(+$(this).data("page")-1).search(),window.scrollTo(0,0)}),$(document).on("click",".sortBy",function(){$(this).closest(".btn-group").find(".sort-by").text($(this).text()),b.setIndex(y+$(this).data("index-suffix")).search()}),$(document).on("click","#input-loop",function(){c.val("").change()});var x=function I(e,t){return t.count-e.count},w=function P(e,t){return e.value.localeCompare(t.value)},j=function F(e){return function(t,n){if(t.refined!==n.refined){if(t.refined)return-1;if(n.refined)return 1}return e(t,n)}}});